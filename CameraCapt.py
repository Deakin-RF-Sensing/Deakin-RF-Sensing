{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0\n",
      "1\n",
      "2\n",
      "3\n",
      "4\n",
      "5\n",
      "6\n",
      "7\n",
      "8\n",
      "9\n",
      "10\n",
      "11\n",
      "12\n",
      "13\n",
      "14\n",
      "15\n",
      "16\n",
      "17\n",
      "18\n",
      "19\n",
      "20\n",
      "21\n",
      "22\n",
      "23\n",
      "24\n",
      "25\n",
      "26\n",
      "27\n",
      "28\n",
      "29\n",
      "30\n",
      "31\n",
      "32\n",
      "33\n",
      "34\n",
      "35\n",
      "36\n",
      "37\n",
      "38\n",
      "39\n",
      "40\n",
      "41\n",
      "42\n",
      "43\n",
      "44\n",
      "45\n",
      "46\n",
      "47\n",
      "48\n",
      "49\n",
      "50\n",
      "51\n",
      "52\n",
      "53\n",
      "54\n",
      "55\n",
      "56\n",
      "57\n",
      "58\n",
      "59\n",
      "60\n",
      "61\n",
      "62\n",
      "63\n",
      "64\n",
      "65\n",
      "66\n",
      "67\n",
      "68\n",
      "69\n",
      "70\n",
      "71\n",
      "72\n",
      "73\n",
      "74\n",
      "75\n",
      "76\n",
      "77\n",
      "78\n",
      "79\n",
      "80\n",
      "81\n",
      "82\n",
      "83\n",
      "84\n",
      "85\n",
      "86\n",
      "87\n",
      "88\n",
      "89\n",
      "90\n",
      "91\n",
      "92\n",
      "93\n",
      "94\n",
      "95\n",
      "96\n",
      "97\n",
      "98\n",
      "99\n",
      "100\n",
      "101\n",
      "102\n",
      "103\n",
      "104\n",
      "105\n",
      "106\n",
      "107\n",
      "108\n",
      "109\n",
      "110\n",
      "111\n",
      "112\n",
      "113\n",
      "114\n",
      "115\n",
      "116\n",
      "117\n",
      "118\n",
      "119\n",
      "120\n",
      "121\n",
      "122\n",
      "123\n",
      "124\n",
      "125\n",
      "126\n",
      "127\n",
      "128\n",
      "129\n",
      "130\n",
      "131\n",
      "132\n",
      "133\n",
      "134\n",
      "135\n",
      "136\n",
      "137\n",
      "138\n",
      "139\n",
      "140\n",
      "141\n",
      "142\n",
      "143\n",
      "144\n",
      "145\n",
      "146\n",
      "147\n",
      "148\n",
      "149\n",
      "150\n",
      "151\n",
      "152\n",
      "153\n",
      "154\n",
      "155\n",
      "156\n",
      "157\n",
      "158\n",
      "159\n",
      "160\n",
      "161\n",
      "162\n",
      "163\n",
      "164\n",
      "165\n",
      "166\n",
      "167\n",
      "168\n",
      "169\n",
      "170\n",
      "171\n",
      "172\n",
      "173\n",
      "174\n",
      "175\n",
      "176\n",
      "177\n",
      "178\n",
      "179\n",
      "180\n",
      "181\n",
      "182\n",
      "183\n",
      "184\n",
      "185\n",
      "186\n",
      "187\n",
      "188\n",
      "189\n",
      "190\n",
      "191\n",
      "192\n",
      "193\n",
      "194\n",
      "195\n",
      "196\n",
      "197\n",
      "198\n",
      "199\n",
      "200\n",
      "201\n",
      "202\n",
      "203\n",
      "204\n",
      "205\n",
      "206\n",
      "207\n",
      "208\n",
      "209\n",
      "210\n",
      "211\n",
      "212\n",
      "213\n",
      "214\n",
      "215\n",
      "216\n",
      "217\n",
      "218\n",
      "219\n",
      "220\n",
      "221\n",
      "222\n",
      "223\n",
      "224\n",
      "225\n",
      "226\n",
      "227\n",
      "228\n",
      "229\n",
      "230\n",
      "231\n",
      "232\n",
      "233\n",
      "234\n",
      "235\n",
      "236\n",
      "237\n",
      "238\n",
      "239\n",
      "240\n",
      "241\n",
      "242\n",
      "243\n",
      "244\n",
      "245\n",
      "246\n",
      "247\n",
      "248\n",
      "249\n",
      "250\n",
      "251\n",
      "252\n",
      "253\n",
      "254\n",
      "255\n",
      "256\n",
      "257\n",
      "258\n",
      "259\n",
      "260\n",
      "261\n",
      "262\n",
      "263\n",
      "264\n",
      "265\n",
      "266\n",
      "267\n",
      "268\n",
      "269\n",
      "270\n",
      "271\n",
      "272\n",
      "273\n",
      "274\n",
      "275\n",
      "276\n",
      "277\n",
      "278\n",
      "279\n",
      "280\n",
      "281\n",
      "282\n",
      "283\n",
      "284\n",
      "285\n",
      "286\n",
      "287\n",
      "288\n",
      "289\n",
      "290\n",
      "291\n",
      "292\n",
      "293\n",
      "294\n",
      "295\n",
      "296\n",
      "297\n",
      "298\n",
      "299\n",
      "300\n",
      "301\n",
      "302\n",
      "303\n",
      "304\n",
      "305\n",
      "306\n",
      "307\n",
      "308\n",
      "309\n",
      "310\n",
      "311\n",
      "312\n",
      "313\n",
      "314\n",
      "315\n",
      "316\n",
      "317\n",
      "318\n",
      "319\n",
      "320\n",
      "321\n",
      "322\n",
      "323\n",
      "324\n",
      "325\n",
      "326\n",
      "327\n",
      "328\n",
      "329\n",
      "330\n",
      "331\n",
      "332\n",
      "333\n",
      "334\n",
      "335\n",
      "336\n",
      "337\n",
      "338\n",
      "339\n",
      "340\n",
      "341\n",
      "342\n",
      "343\n",
      "344\n",
      "345\n",
      "346\n",
      "347\n",
      "348\n",
      "349\n",
      "350\n",
      "351\n",
      "352\n",
      "353\n",
      "354\n",
      "355\n",
      "356\n",
      "357\n",
      "358\n",
      "359\n",
      "360\n",
      "361\n",
      "362\n",
      "363\n",
      "364\n",
      "365\n",
      "366\n",
      "367\n",
      "368\n",
      "369\n",
      "370\n",
      "371\n",
      "372\n",
      "373\n",
      "374\n",
      "375\n",
      "376\n",
      "377\n",
      "378\n",
      "379\n",
      "380\n",
      "381\n",
      "382\n",
      "383\n",
      "384\n",
      "385\n",
      "386\n",
      "387\n",
      "388\n",
      "389\n",
      "390\n",
      "391\n",
      "392\n",
      "393\n",
      "394\n",
      "395\n",
      "396\n",
      "397\n",
      "398\n",
      "399\n",
      "400\n",
      "401\n",
      "402\n",
      "403\n",
      "404\n",
      "405\n",
      "406\n",
      "407\n",
      "408\n",
      "409\n",
      "410\n",
      "411\n",
      "412\n",
      "413\n",
      "414\n",
      "415\n",
      "416\n",
      "417\n",
      "418\n",
      "419\n",
      "420\n",
      "421\n",
      "422\n",
      "423\n",
      "424\n",
      "425\n",
      "426\n",
      "427\n",
      "428\n",
      "429\n",
      "430\n",
      "431\n",
      "432\n",
      "433\n",
      "434\n",
      "435\n",
      "436\n",
      "437\n",
      "438\n",
      "439\n",
      "440\n",
      "441\n",
      "442\n",
      "443\n",
      "444\n",
      "445\n",
      "446\n",
      "447\n",
      "448\n",
      "449\n",
      "450\n",
      "451\n",
      "452\n",
      "453\n",
      "454\n",
      "455\n",
      "456\n",
      "457\n",
      "458\n",
      "459\n",
      "460\n",
      "461\n",
      "462\n",
      "463\n",
      "464\n",
      "465\n",
      "466\n",
      "467\n",
      "468\n",
      "469\n",
      "470\n",
      "471\n",
      "472\n",
      "473\n",
      "474\n",
      "475\n",
      "476\n",
      "477\n",
      "478\n",
      "479\n",
      "480\n",
      "481\n",
      "482\n",
      "483\n",
      "484\n",
      "485\n",
      "486\n",
      "487\n",
      "488\n",
      "489\n",
      "490\n",
      "491\n",
      "492\n",
      "493\n",
      "494\n",
      "495\n",
      "496\n",
      "497\n",
      "498\n",
      "499\n",
      "500\n",
      "501\n",
      "502\n",
      "503\n",
      "504\n",
      "505\n",
      "506\n",
      "507\n",
      "508\n",
      "509\n",
      "510\n",
      "511\n",
      "512\n",
      "513\n",
      "514\n",
      "515\n",
      "516\n",
      "517\n",
      "518\n",
      "519\n",
      "520\n",
      "521\n",
      "522\n",
      "523\n",
      "524\n",
      "525\n",
      "526\n",
      "527\n",
      "528\n",
      "529\n",
      "530\n",
      "531\n",
      "532\n",
      "533\n",
      "534\n",
      "535\n",
      "536\n",
      "537\n",
      "538\n",
      "539\n",
      "540\n",
      "541\n",
      "542\n",
      "543\n",
      "544\n",
      "545\n",
      "546\n",
      "547\n",
      "548\n",
      "549\n",
      "550\n",
      "551\n",
      "552\n",
      "553\n",
      "554\n",
      "555\n",
      "556\n",
      "557\n",
      "558\n",
      "559\n",
      "560\n",
      "561\n",
      "562\n",
      "563\n",
      "564\n",
      "565\n",
      "566\n",
      "567\n",
      "568\n",
      "569\n",
      "570\n",
      "571\n",
      "572\n",
      "573\n",
      "574\n",
      "575\n",
      "576\n",
      "577\n",
      "578\n",
      "579\n",
      "580\n",
      "581\n",
      "582\n",
      "583\n",
      "584\n",
      "585\n",
      "586\n",
      "587\n",
      "588\n",
      "589\n",
      "590\n",
      "591\n",
      "592\n",
      "593\n",
      "594\n",
      "595\n",
      "596\n",
      "597\n",
      "598\n",
      "599\n",
      "600\n",
      "601\n",
      "Can't receive frame (stream end?). Exiting ...\n"
     ]
    }
   ],
   "source": [
    "import numpy as np\n",
    "import cv2 as cv\n",
    "fps = 20\n",
    "frameWidth  = 1280\n",
    "frameHeight = 720\n",
    "cameraFPS=20\n",
    "cap = cv.VideoCapture('AlphaPose_videonew.MP4')\n",
    "count=0\n",
    "while cap.isOpened():\n",
    "    ret, frame = cap.read()\n",
    "    # if frame is read correctly ret is True\n",
    "    if not ret:\n",
    "        print(\"Can't receive frame (stream end?). Exiting ...\")\n",
    "        break\n",
    " \n",
    "    \n",
    "    print(count)\n",
    "    count=count+1\n",
    "    if cv.waitKey(1) == ord('q'):\n",
    "        break\n",
    "cap.release()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "FPS: 30.0\n",
      "Frame size: 1280.0 720.0\n",
      "2023-02-22 13:25:28.509137\n",
      "2023-02-22 13:25:28.523124\n",
      "2023-02-22 13:25:28.555516\n",
      "2023-02-22 13:25:28.586846\n",
      "2023-02-22 13:25:28.619377\n",
      "2023-02-22 13:25:28.656869\n",
      "2023-02-22 13:25:28.686967\n",
      "2023-02-22 13:25:28.736398\n",
      "2023-02-22 13:25:28.764515\n",
      "2023-02-22 13:25:28.795463\n",
      "2023-02-22 13:25:28.830512\n",
      "2023-02-22 13:25:28.859826\n",
      "2023-02-22 13:25:28.890790\n",
      "2023-02-22 13:25:28.922840\n",
      "2023-02-22 13:25:28.955888\n",
      "2023-02-22 13:25:28.987171\n",
      "2023-02-22 13:25:29.019262\n",
      "2023-02-22 13:25:29.052286\n",
      "2023-02-22 13:25:29.084012\n",
      "2023-02-22 13:25:29.132367\n",
      "2023-02-22 13:25:29.167319\n",
      "2023-02-22 13:25:29.196140\n",
      "2023-02-22 13:25:29.228005\n",
      "2023-02-22 13:25:29.259100\n",
      "2023-02-22 13:25:29.292096\n",
      "2023-02-22 13:25:29.324088\n",
      "2023-02-22 13:25:29.356223\n",
      "2023-02-22 13:25:29.392862\n",
      "2023-02-22 13:25:29.419997\n",
      "2023-02-22 13:25:29.452377\n",
      "2023-02-22 13:25:29.484721\n",
      "2023-02-22 13:25:29.532922\n",
      "2023-02-22 13:25:29.564486\n",
      "2023-02-22 13:25:29.597114\n",
      "2023-02-22 13:25:29.627908\n",
      "2023-02-22 13:25:29.659983\n",
      "2023-02-22 13:25:29.695635\n",
      "2023-02-22 13:25:29.726314\n",
      "2023-02-22 13:25:29.758561\n",
      "2023-02-22 13:25:29.793573\n",
      "2023-02-22 13:25:29.820415\n",
      "2023-02-22 13:25:29.852622\n",
      "2023-02-22 13:25:29.884254\n",
      "2023-02-22 13:25:29.938546\n",
      "2023-02-22 13:25:29.964539\n",
      "2023-02-22 13:25:29.996086\n",
      "2023-02-22 13:25:30.027616\n",
      "2023-02-22 13:25:30.060426\n",
      "2023-02-22 13:25:30.091317\n",
      "2023-02-22 13:25:30.124318\n",
      "2023-02-22 13:25:30.155357\n",
      "2023-02-22 13:25:30.189092\n",
      "2023-02-22 13:25:30.224121\n",
      "2023-02-22 13:25:30.257100\n",
      "2023-02-22 13:25:30.285219\n",
      "2023-02-22 13:25:30.335338\n",
      "2023-02-22 13:25:30.363556\n",
      "2023-02-22 13:25:30.395759\n",
      "2023-02-22 13:25:30.431447\n",
      "2023-02-22 13:25:30.465464\n",
      "2023-02-22 13:25:30.497389\n",
      "2023-02-22 13:25:30.523280\n",
      "2023-02-22 13:25:30.555321\n",
      "2023-02-22 13:25:30.587337\n",
      "2023-02-22 13:25:30.620242\n",
      "2023-02-22 13:25:30.653282\n",
      "2023-02-22 13:25:30.687038\n",
      "2023-02-22 13:25:30.734348\n",
      "2023-02-22 13:25:30.764907\n",
      "2023-02-22 13:25:30.797252\n",
      "2023-02-22 13:25:30.828383\n",
      "2023-02-22 13:25:30.859323\n",
      "2023-02-22 13:25:30.893413\n",
      "2023-02-22 13:25:30.924310\n",
      "2023-02-22 13:25:30.957506\n",
      "2023-02-22 13:25:30.989125\n",
      "2023-02-22 13:25:31.019397\n",
      "2023-02-22 13:25:31.054471\n",
      "2023-02-22 13:25:31.084555\n",
      "2023-02-22 13:25:31.132508\n",
      "2023-02-22 13:25:31.169218\n",
      "2023-02-22 13:25:31.195629\n",
      "2023-02-22 13:25:31.227387\n",
      "2023-02-22 13:25:31.261542\n",
      "2023-02-22 13:25:31.291540\n",
      "2023-02-22 13:25:31.323876\n",
      "2023-02-22 13:25:31.355953\n",
      "2023-02-22 13:25:31.387894\n",
      "2023-02-22 13:25:31.420384\n",
      "2023-02-22 13:25:31.451620\n",
      "2023-02-22 13:25:31.484341\n",
      "2023-02-22 13:25:31.537843\n",
      "2023-02-22 13:25:31.564338\n",
      "2023-02-22 13:25:31.597736\n",
      "2023-02-22 13:25:31.627437\n",
      "2023-02-22 13:25:31.660094\n",
      "2023-02-22 13:25:31.691322\n",
      "2023-02-22 13:25:31.724408\n",
      "2023-02-22 13:25:31.755688\n",
      "2023-02-22 13:25:31.787823\n",
      "2023-02-22 13:25:31.821788\n",
      "2023-02-22 13:25:31.856992\n",
      "2023-02-22 13:25:31.883134\n",
      "2023-02-22 13:25:31.937502\n",
      "2023-02-22 13:25:31.963770\n",
      "2023-02-22 13:25:31.996388\n",
      "2023-02-22 13:25:32.028336\n",
      "2023-02-22 13:25:32.066387\n",
      "2023-02-22 13:25:32.092312\n",
      "2023-02-22 13:25:32.124410\n",
      "2023-02-22 13:25:32.155634\n",
      "2023-02-22 13:25:32.188703\n",
      "2023-02-22 13:25:32.221962\n",
      "2023-02-22 13:25:32.256735\n",
      "2023-02-22 13:25:32.284397\n",
      "2023-02-22 13:25:32.331749\n",
      "2023-02-22 13:25:32.363523\n",
      "2023-02-22 13:25:32.396255\n",
      "2023-02-22 13:25:32.428343\n",
      "2023-02-22 13:25:32.460538\n",
      "2023-02-22 13:25:32.491409\n",
      "2023-02-22 13:25:32.524567\n",
      "2023-02-22 13:25:32.555988\n",
      "2023-02-22 13:25:32.591158\n",
      "2023-02-22 13:25:32.620228\n",
      "2023-02-22 13:25:32.652369\n",
      "2023-02-22 13:25:32.683256\n",
      "2023-02-22 13:25:32.737042\n",
      "2023-02-22 13:25:32.764982\n",
      "2023-02-22 13:25:32.799044\n",
      "2023-02-22 13:25:32.828174\n",
      "2023-02-22 13:25:32.860098\n",
      "2023-02-22 13:25:32.891200\n",
      "2023-02-22 13:25:32.924132\n",
      "2023-02-22 13:25:32.956081\n",
      "2023-02-22 13:25:32.988010\n",
      "2023-02-22 13:25:33.021517\n",
      "2023-02-22 13:25:33.051607\n",
      "2023-02-22 13:25:33.084438\n",
      "2023-02-22 13:25:33.131134\n",
      "2023-02-22 13:25:33.167747\n",
      "2023-02-22 13:25:33.196638\n",
      "2023-02-22 13:25:33.228406\n",
      "2023-02-22 13:25:33.261393\n",
      "2023-02-22 13:25:33.292316\n",
      "2023-02-22 13:25:33.324367\n",
      "2023-02-22 13:25:33.359049\n",
      "2023-02-22 13:25:33.388399\n",
      "2023-02-22 13:25:33.419713\n",
      "2023-02-22 13:25:33.452377\n",
      "2023-02-22 13:25:33.484173\n",
      "2023-02-22 13:25:33.535614\n",
      "2023-02-22 13:25:33.563317\n",
      "2023-02-22 13:25:33.596558\n",
      "2023-02-22 13:25:33.633017\n",
      "2023-02-22 13:25:33.660353\n",
      "2023-02-22 13:25:33.692469\n",
      "2023-02-22 13:25:33.727396\n",
      "2023-02-22 13:25:33.755994\n",
      "2023-02-22 13:25:33.792689\n",
      "2023-02-22 13:25:33.822970\n",
      "2023-02-22 13:25:33.852934\n",
      "2023-02-22 13:25:33.904966\n",
      "2023-02-22 13:25:33.932399\n",
      "2023-02-22 13:25:33.967523\n",
      "2023-02-22 13:25:34.000621\n",
      "2023-02-22 13:25:34.028186\n",
      "2023-02-22 13:25:34.059837\n",
      "2023-02-22 13:25:34.097483\n",
      "2023-02-22 13:25:34.125245\n",
      "2023-02-22 13:25:34.156917\n",
      "2023-02-22 13:25:34.192467\n",
      "2023-02-22 13:25:34.225461\n",
      "2023-02-22 13:25:34.251577\n",
      "2023-02-22 13:25:34.299805\n",
      "2023-02-22 13:25:34.331446\n",
      "2023-02-22 13:25:34.364748\n",
      "2023-02-22 13:25:34.396345\n",
      "2023-02-22 13:25:34.431242\n",
      "2023-02-22 13:25:34.460488\n",
      "2023-02-22 13:25:34.491605\n",
      "2023-02-22 13:25:34.527863\n",
      "2023-02-22 13:25:34.555974\n",
      "2023-02-22 13:25:34.587735\n",
      "2023-02-22 13:25:34.619389\n",
      "2023-02-22 13:25:34.652064\n",
      "2023-02-22 13:25:34.699589\n",
      "2023-02-22 13:25:34.732039\n",
      "2023-02-22 13:25:34.765307\n",
      "2023-02-22 13:25:34.796314\n",
      "2023-02-22 13:25:34.827949\n",
      "2023-02-22 13:25:34.862974\n",
      "2023-02-22 13:25:34.891732\n",
      "2023-02-22 13:25:34.924883\n",
      "2023-02-22 13:25:34.961751\n",
      "2023-02-22 13:25:34.988312\n",
      "2023-02-22 13:25:35.020255\n",
      "2023-02-22 13:25:35.052677\n",
      "2023-02-22 13:25:35.101402\n",
      "2023-02-22 13:25:35.137386\n",
      "2023-02-22 13:25:35.164242\n",
      "2023-02-22 13:25:35.196596\n",
      "2023-02-22 13:25:35.228338\n",
      "2023-02-22 13:25:35.259310\n",
      "2023-02-22 13:25:35.292496\n",
      "2023-02-22 13:25:35.325217\n",
      "2023-02-22 13:25:35.356261\n",
      "2023-02-22 13:25:35.388384\n",
      "2023-02-22 13:25:35.420406\n",
      "2023-02-22 13:25:35.455642\n",
      "2023-02-22 13:25:35.500402\n",
      "2023-02-22 13:25:35.532102\n",
      "2023-02-22 13:25:35.563326\n",
      "2023-02-22 13:25:35.595682\n",
      "2023-02-22 13:25:35.629874\n",
      "2023-02-22 13:25:35.659871\n",
      "2023-02-22 13:25:35.692285\n",
      "2023-02-22 13:25:35.724168\n",
      "2023-02-22 13:25:35.755855\n",
      "2023-02-22 13:25:35.792149\n",
      "2023-02-22 13:25:35.821352\n",
      "2023-02-22 13:25:35.851928\n",
      "2023-02-22 13:25:35.901398\n",
      "2023-02-22 13:25:35.931380\n",
      "2023-02-22 13:25:35.964276\n",
      "2023-02-22 13:25:35.996164\n",
      "2023-02-22 13:25:36.029842\n",
      "2023-02-22 13:25:36.059827\n",
      "2023-02-22 13:25:36.097098\n",
      "2023-02-22 13:25:36.124102\n",
      "2023-02-22 13:25:36.161460\n",
      "2023-02-22 13:25:36.188383\n",
      "2023-02-22 13:25:36.220247\n",
      "2023-02-22 13:25:36.252941\n",
      "2023-02-22 13:25:36.304393\n",
      "2023-02-22 13:25:36.332114\n",
      "2023-02-22 13:25:36.364380\n",
      "2023-02-22 13:25:36.400313\n",
      "2023-02-22 13:25:36.429719\n",
      "2023-02-22 13:25:36.459547\n",
      "2023-02-22 13:25:36.491776\n",
      "2023-02-22 13:25:36.524644\n",
      "2023-02-22 13:25:36.556602\n",
      "2023-02-22 13:25:36.588686\n",
      "2023-02-22 13:25:36.624312\n",
      "2023-02-22 13:25:36.652930\n",
      "2023-02-22 13:25:36.701031\n",
      "2023-02-22 13:25:36.733383\n",
      "2023-02-22 13:25:36.767396\n",
      "2023-02-22 13:25:36.795657\n",
      "2023-02-22 13:25:36.827316\n",
      "2023-02-22 13:25:36.859241\n",
      "2023-02-22 13:25:36.892091\n",
      "2023-02-22 13:25:36.927045\n",
      "2023-02-22 13:25:36.960357\n",
      "2023-02-22 13:25:36.992553\n",
      "2023-02-22 13:25:37.020684\n",
      "2023-02-22 13:25:37.056889\n",
      "2023-02-22 13:25:37.099991\n",
      "2023-02-22 13:25:37.131294\n",
      "2023-02-22 13:25:37.164381\n",
      "2023-02-22 13:25:37.200538\n",
      "2023-02-22 13:25:37.227357\n",
      "2023-02-22 13:25:37.259887\n",
      "2023-02-22 13:25:37.292266\n",
      "2023-02-22 13:25:37.323607\n",
      "2023-02-22 13:25:37.356404\n",
      "2023-02-22 13:25:37.387392\n",
      "2023-02-22 13:25:37.424586\n",
      "2023-02-22 13:25:37.452528\n",
      "2023-02-22 13:25:37.505386\n",
      "2023-02-22 13:25:37.532368\n",
      "2023-02-22 13:25:37.564392\n",
      "2023-02-22 13:25:37.596432\n",
      "2023-02-22 13:25:37.630039\n",
      "2023-02-22 13:25:37.660268\n",
      "2023-02-22 13:25:37.696552\n",
      "2023-02-22 13:25:37.726344\n",
      "2023-02-22 13:25:37.755870\n",
      "2023-02-22 13:25:37.787880\n",
      "2023-02-22 13:25:37.822034\n",
      "2023-02-22 13:25:37.852869\n",
      "2023-02-22 13:25:37.905489\n",
      "2023-02-22 13:25:37.932327\n",
      "2023-02-22 13:25:37.964361\n",
      "2023-02-22 13:25:37.996374\n",
      "2023-02-22 13:25:38.028446\n",
      "2023-02-22 13:25:38.059352\n",
      "2023-02-22 13:25:38.092500\n",
      "Quit\n"
     ]
    }
   ],
   "source": [
    "#!/usr/bin/python\n",
    "\n",
    "import cv2\n",
    "import datetime\n",
    "import time\n",
    "\n",
    "#import sys\n",
    "\n",
    "\n",
    "if __name__ == \"__main__\":\n",
    "\n",
    "    try:\n",
    "    \n",
    "        fps = 20\n",
    "        frameWidth  = 1280\n",
    "        frameHeight = 720\n",
    "        \n",
    "        cap = cv2.VideoCapture(0)\n",
    "        cap.set(cv2.CAP_PROP_FRAME_WIDTH,  frameWidth)\n",
    "        cap.set(cv2.CAP_PROP_FRAME_HEIGHT, frameHeight)\n",
    "#\ttime.sleep()\n",
    "        cap.set(cv2.CAP_PROP_FPS, fps)\n",
    "\n",
    "        cameraFPS = cap.get(cv2.CAP_PROP_FPS)\n",
    "\n",
    "        print(\"FPS:\", cameraFPS)\n",
    "        print(\"Frame size:\", cap.get(cv2.CAP_PROP_FRAME_WIDTH), cap.get(cv2.CAP_PROP_FRAME_HEIGHT))\n",
    "            \n",
    "        #fourcc = cv2.VideoWriter_fourcc(*'MJPG') # + .avi works, .mp4 not works\n",
    "        #fourcc = cv2.cv.CV_FOURCC(*'XVID')MP4V\n",
    "        \n",
    "        #fourcc = cv2.VideoWriter_fourcc(*'XVID')\n",
    "        fourcc = cv2.VideoWriter_fourcc(*'MP4V')\n",
    "        videofile = cv2.VideoWriter('video.mp4',\n",
    "                                    0x7634706d,\n",
    "                                    int(cameraFPS),\n",
    "                                    (frameWidth, frameHeight))\n",
    "\n",
    "        print(\"camera FPS\"+str(cameraFPS))\n",
    "        \n",
    "        \n",
    "        \n",
    "        #file = open('/media/csipose1/XPG SD700X/time', 'w+')\n",
    "        start = datetime.datetime.now()\n",
    "        stop = datetime.datetime.now()\n",
    "        \n",
    "        \n",
    "        with open('VideoTimestamp.txt', 'w+') as file:\n",
    "            while(cap.isOpened() and int((stop-start).seconds)<10):\n",
    "                stop = datetime.datetime.now()\n",
    "                ret, frame = cap.read()\n",
    "                #time.sleep(delay)\n",
    "                t = datetime.datetime.now()\n",
    "                #t = time.clock()\n",
    "                #print(ret)\n",
    "                if ret:\n",
    "                   file.write(str(t)+'\\n')\n",
    "                   print(str(t))\n",
    "                   videofile.write(frame)\n",
    "                   # cv2.imshow('Camera', frame)\n",
    "                    \n",
    "                   #if cv2.waitKey(1) & 0xFF == ord('q'):\n",
    "                   #    break\n",
    "                else:\n",
    "                    break\n",
    "    \n",
    "        \n",
    "    except KeyboardInterrupt:\n",
    "        print(\"Quit\")\n",
    "        cap.release()\n",
    "        videofile.release()\n",
    "        #cv2.destroyAllWindows()\n",
    "        file.close()\n",
    "\n",
    "print(\"Quit\")\n",
    "cap.release()\n",
    "videofile.release()\n",
    "#cv2.destroyAllWindows()\n",
    "file.close()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "FPS: 30.0\n",
      "Frame size: 1280.0 720.0\n",
      "2023-02-14 08:41:31.529408\n",
      "2023-02-14 08:41:31.539007\n",
      "2023-02-14 08:41:31.549997\n",
      "2023-02-14 08:41:31.558004\n",
      "2023-02-14 08:41:31.588737\n",
      "2023-02-14 08:41:31.637889\n",
      "2023-02-14 08:41:31.672394\n",
      "2023-02-14 08:41:31.704515\n",
      "2023-02-14 08:41:31.733505\n",
      "2023-02-14 08:41:31.764414\n",
      "2023-02-14 08:41:31.798151\n",
      "2023-02-14 08:41:31.828906\n",
      "2023-02-14 08:41:31.861871\n",
      "2023-02-14 08:41:31.893267\n",
      "2023-02-14 08:41:31.924455\n",
      "2023-02-14 08:41:31.972065\n",
      "2023-02-14 08:41:32.007631\n",
      "2023-02-14 08:41:32.043444\n",
      "2023-02-14 08:41:32.072459\n",
      "2023-02-14 08:41:32.103222\n",
      "2023-02-14 08:41:32.136356\n",
      "2023-02-14 08:41:32.163188\n",
      "2023-02-14 08:41:32.196370\n",
      "2023-02-14 08:41:32.226914\n",
      "2023-02-14 08:41:32.258871\n",
      "2023-02-14 08:41:32.291195\n",
      "2023-02-14 08:41:32.339908\n",
      "2023-02-14 08:41:32.372402\n",
      "2023-02-14 08:41:32.403857\n",
      "2023-02-14 08:41:32.443016\n",
      "2023-02-14 08:41:32.476053\n",
      "2023-02-14 08:41:32.503662\n",
      "2023-02-14 08:41:32.534657\n",
      "2023-02-14 08:41:32.566261\n",
      "2023-02-14 08:41:32.596679\n",
      "2023-02-14 08:41:32.626953\n",
      "2023-02-14 08:41:32.635967\n",
      "2023-02-14 08:41:32.707309\n",
      "2023-02-14 08:41:32.741943\n",
      "2023-02-14 08:41:32.772829\n",
      "2023-02-14 08:41:32.804996\n",
      "2023-02-14 08:41:32.837221\n",
      "2023-02-14 08:41:32.867585\n",
      "2023-02-14 08:41:32.901448\n",
      "2023-02-14 08:41:32.937553\n",
      "2023-02-14 08:41:32.967634\n",
      "2023-02-14 08:41:32.976145\n",
      "2023-02-14 08:41:33.012425\n",
      "2023-02-14 08:41:33.043955\n",
      "2023-02-14 08:41:33.109404\n",
      "2023-02-14 08:41:33.141153\n",
      "2023-02-14 08:41:33.172644\n",
      "2023-02-14 08:41:33.205637\n",
      "2023-02-14 08:41:33.237311\n",
      "2023-02-14 08:41:33.269501\n",
      "2023-02-14 08:41:33.302112\n",
      "2023-02-14 08:41:33.336047\n",
      "2023-02-14 08:41:33.343932\n",
      "2023-02-14 08:41:33.381808\n",
      "2023-02-14 08:41:33.415420\n",
      "2023-02-14 08:41:33.444512\n",
      "2023-02-14 08:41:33.507367\n",
      "2023-02-14 08:41:33.539582\n",
      "2023-02-14 08:41:33.572749\n",
      "2023-02-14 08:41:33.604928\n",
      "2023-02-14 08:41:33.635573\n",
      "2023-02-14 08:41:33.669722\n",
      "2023-02-14 08:41:33.678534\n",
      "2023-02-14 08:41:33.715140\n",
      "2023-02-14 08:41:33.748521\n",
      "2023-02-14 08:41:33.779502\n",
      "2023-02-14 08:41:33.813395\n",
      "2023-02-14 08:41:33.846558\n",
      "2023-02-14 08:41:33.907091\n",
      "2023-02-14 08:41:33.939550\n",
      "2023-02-14 08:41:33.972921\n",
      "2023-02-14 08:41:34.004789\n",
      "2023-02-14 08:41:34.014581\n",
      "2023-02-14 08:41:34.037394\n",
      "2023-02-14 08:41:34.087202\n",
      "2023-02-14 08:41:34.117218\n",
      "2023-02-14 08:41:34.148787\n",
      "2023-02-14 08:41:34.180042\n",
      "2023-02-14 08:41:34.213207\n",
      "2023-02-14 08:41:34.245413\n",
      "2023-02-14 08:41:34.310560\n",
      "2023-02-14 08:41:34.341969\n",
      "2023-02-14 08:41:34.373103\n",
      "2023-02-14 08:41:34.382075\n",
      "2023-02-14 08:41:34.419341\n",
      "2023-02-14 08:41:34.451543\n",
      "2023-02-14 08:41:34.484898\n",
      "2023-02-14 08:41:34.517511\n",
      "2023-02-14 08:41:34.549117\n",
      "2023-02-14 08:41:34.581622\n",
      "2023-02-14 08:41:34.614216\n",
      "2023-02-14 08:41:34.645787\n",
      "2023-02-14 08:41:34.707963\n",
      "2023-02-14 08:41:34.715958\n",
      "2023-02-14 08:41:34.755249\n",
      "2023-02-14 08:41:34.787499\n",
      "2023-02-14 08:41:34.820580\n",
      "2023-02-14 08:41:34.851458\n",
      "2023-02-14 08:41:34.882830\n",
      "2023-02-14 08:41:34.914715\n",
      "2023-02-14 08:41:34.950519\n",
      "2023-02-14 08:41:34.980953\n",
      "2023-02-14 08:41:35.011318\n",
      "2023-02-14 08:41:35.048328\n",
      "2023-02-14 08:41:35.078720\n",
      "2023-02-14 08:41:35.126417\n",
      "2023-02-14 08:41:35.158732\n",
      "2023-02-14 08:41:35.187370\n",
      "2023-02-14 08:41:35.221466\n",
      "2023-02-14 08:41:35.253083\n",
      "2023-02-14 08:41:35.283328\n",
      "2023-02-14 08:41:35.315548\n",
      "2023-02-14 08:41:35.346743\n",
      "2023-02-14 08:41:35.379800\n",
      "2023-02-14 08:41:35.411233\n",
      "2023-02-14 08:41:35.462008\n",
      "2023-02-14 08:41:35.502069\n",
      "2023-02-14 08:41:35.526403\n",
      "2023-02-14 08:41:35.556816\n",
      "2023-02-14 08:41:35.589186\n",
      "2023-02-14 08:41:35.620909\n",
      "2023-02-14 08:41:35.651467\n",
      "2023-02-14 08:41:35.683777\n",
      "2023-02-14 08:41:35.715239\n",
      "2023-02-14 08:41:35.747818\n",
      "2023-02-14 08:41:35.795901\n",
      "2023-02-14 08:41:35.829112\n",
      "2023-02-14 08:41:35.859727\n",
      "2023-02-14 08:41:35.894523\n",
      "2023-02-14 08:41:35.924924\n",
      "2023-02-14 08:41:35.958170\n",
      "2023-02-14 08:41:35.990476\n",
      "2023-02-14 08:41:36.021042\n",
      "2023-02-14 08:41:36.050915\n",
      "2023-02-14 08:41:36.083192\n",
      "2023-02-14 08:41:36.116721\n",
      "2023-02-14 08:41:36.165119\n",
      "2023-02-14 08:41:36.197019\n",
      "2023-02-14 08:41:36.230131\n",
      "2023-02-14 08:41:36.260320\n",
      "2023-02-14 08:41:36.293887\n",
      "2023-02-14 08:41:36.327731\n",
      "2023-02-14 08:41:36.358422\n",
      "2023-02-14 08:41:36.389853\n",
      "2023-02-14 08:41:36.419277\n",
      "2023-02-14 08:41:36.453570\n",
      "2023-02-14 08:41:36.500814\n",
      "2023-02-14 08:41:36.531624\n",
      "2023-02-14 08:41:36.563817\n",
      "2023-02-14 08:41:36.596061\n",
      "2023-02-14 08:41:36.629634\n",
      "2023-02-14 08:41:36.661155\n",
      "2023-02-14 08:41:36.694085\n",
      "2023-02-14 08:41:36.728075\n",
      "2023-02-14 08:41:36.760222\n",
      "2023-02-14 08:41:36.790812\n",
      "2023-02-14 08:41:36.821299\n",
      "2023-02-14 08:41:36.868458\n",
      "2023-02-14 08:41:36.899658\n",
      "2023-02-14 08:41:36.931436\n",
      "2023-02-14 08:41:36.963630\n",
      "2023-02-14 08:41:36.997092\n",
      "2023-02-14 08:41:37.027435\n",
      "2023-02-14 08:41:37.060554\n",
      "2023-02-14 08:41:37.091853\n",
      "2023-02-14 08:41:37.131841\n",
      "2023-02-14 08:41:37.156292\n",
      "2023-02-14 08:41:37.205572\n",
      "2023-02-14 08:41:37.237730\n",
      "2023-02-14 08:41:37.270405\n",
      "2023-02-14 08:41:37.300544\n",
      "2023-02-14 08:41:37.331860\n",
      "2023-02-14 08:41:37.363346\n",
      "2023-02-14 08:41:37.397529\n",
      "2023-02-14 08:41:37.427777\n",
      "2023-02-14 08:41:37.460768\n",
      "2023-02-14 08:41:37.493572\n",
      "2023-02-14 08:41:37.546373\n",
      "2023-02-14 08:41:37.574825\n",
      "2023-02-14 08:41:37.605961\n",
      "2023-02-14 08:41:37.635687\n",
      "2023-02-14 08:41:37.668461\n",
      "2023-02-14 08:41:37.701796\n",
      "2023-02-14 08:41:37.734692\n",
      "2023-02-14 08:41:37.765246\n",
      "2023-02-14 08:41:37.797324\n",
      "2023-02-14 08:41:37.827319\n",
      "2023-02-14 08:41:37.860809\n",
      "2023-02-14 08:41:37.907552\n",
      "2023-02-14 08:41:37.940907\n",
      "2023-02-14 08:41:37.974022\n",
      "2023-02-14 08:41:38.012007\n",
      "2023-02-14 08:41:38.037306\n",
      "2023-02-14 08:41:38.069562\n",
      "2023-02-14 08:41:38.099679\n",
      "2023-02-14 08:41:38.133841\n",
      "2023-02-14 08:41:38.163265\n",
      "2023-02-14 08:41:38.197606\n",
      "2023-02-14 08:41:38.207616\n",
      "2023-02-14 08:41:38.244188\n",
      "2023-02-14 08:41:38.308678\n",
      "2023-02-14 08:41:38.340941\n",
      "2023-02-14 08:41:38.373489\n",
      "2023-02-14 08:41:38.404527\n",
      "2023-02-14 08:41:38.437731\n",
      "2023-02-14 08:41:38.469789\n",
      "2023-02-14 08:41:38.502479\n",
      "2023-02-14 08:41:38.534204\n",
      "2023-02-14 08:41:38.566370\n",
      "2023-02-14 08:41:38.573385\n",
      "2023-02-14 08:41:38.611451\n",
      "2023-02-14 08:41:38.645730\n",
      "2023-02-14 08:41:38.707071\n",
      "2023-02-14 08:41:38.739889\n",
      "2023-02-14 08:41:38.773045\n",
      "2023-02-14 08:41:38.803769\n",
      "2023-02-14 08:41:38.837431\n",
      "2023-02-14 08:41:38.870968\n",
      "2023-02-14 08:41:38.902452\n",
      "2023-02-14 08:41:38.909480\n",
      "2023-02-14 08:41:38.949756\n",
      "2023-02-14 08:41:38.980117\n",
      "2023-02-14 08:41:39.010833\n",
      "2023-02-14 08:41:39.044437\n",
      "2023-02-14 08:41:39.107033\n",
      "2023-02-14 08:41:39.140603\n",
      "2023-02-14 08:41:39.172529\n",
      "2023-02-14 08:41:39.207368\n",
      "2023-02-14 08:41:39.235524\n",
      "2023-02-14 08:41:39.245536\n",
      "2023-02-14 08:41:39.286209\n",
      "2023-02-14 08:41:39.318303\n",
      "2023-02-14 08:41:39.348513\n",
      "2023-02-14 08:41:39.381771\n",
      "2023-02-14 08:41:39.414413\n",
      "2023-02-14 08:41:39.444863\n",
      "2023-02-14 08:41:39.510886\n",
      "2023-02-14 08:41:39.540114\n",
      "2023-02-14 08:41:39.572834\n",
      "2023-02-14 08:41:39.604924\n",
      "2023-02-14 08:41:39.612327\n",
      "2023-02-14 08:41:39.653912\n",
      "2023-02-14 08:41:39.690010\n",
      "2023-02-14 08:41:39.719804\n",
      "2023-02-14 08:41:39.749663\n",
      "2023-02-14 08:41:39.780836\n",
      "2023-02-14 08:41:39.812099\n",
      "2023-02-14 08:41:39.845428\n",
      "2023-02-14 08:41:39.906860\n",
      "2023-02-14 08:41:39.942717\n",
      "2023-02-14 08:41:39.954369\n",
      "2023-02-14 08:41:39.988780\n",
      "2023-02-14 08:41:40.019495\n",
      "2023-02-14 08:41:40.053609\n",
      "2023-02-14 08:41:40.085402\n",
      "2023-02-14 08:41:40.117493\n",
      "2023-02-14 08:41:40.150711\n",
      "2023-02-14 08:41:40.183505\n",
      "2023-02-14 08:41:40.213011\n",
      "2023-02-14 08:41:40.245532\n",
      "2023-02-14 08:41:40.307402\n",
      "2023-02-14 08:41:40.315807\n",
      "2023-02-14 08:41:40.355106\n",
      "2023-02-14 08:41:40.388861\n",
      "2023-02-14 08:41:40.419165\n",
      "2023-02-14 08:41:40.451764\n",
      "2023-02-14 08:41:40.487872\n",
      "2023-02-14 08:41:40.516491\n",
      "2023-02-14 08:41:40.551593\n",
      "2023-02-14 08:41:40.587539\n",
      "2023-02-14 08:41:40.616665\n",
      "2023-02-14 08:41:40.646016\n",
      "2023-02-14 08:41:40.696060\n",
      "2023-02-14 08:41:40.724323\n",
      "2023-02-14 08:41:40.757759\n",
      "2023-02-14 08:41:40.788066\n",
      "2023-02-14 08:41:40.820740\n",
      "2023-02-14 08:41:40.855573\n",
      "2023-02-14 08:41:40.887872\n",
      "2023-02-14 08:41:40.915617\n",
      "2023-02-14 08:41:40.949817\n",
      "2023-02-14 08:41:40.986112\n",
      "2023-02-14 08:41:41.034949\n",
      "2023-02-14 08:41:41.061507\n",
      "2023-02-14 08:41:41.094134\n",
      "2023-02-14 08:41:41.123375\n",
      "2023-02-14 08:41:41.157583\n",
      "2023-02-14 08:41:41.188831\n",
      "2023-02-14 08:41:41.220748\n",
      "2023-02-14 08:41:41.253826\n",
      "2023-02-14 08:41:41.287052\n",
      "2023-02-14 08:41:41.316509\n",
      "2023-02-14 08:41:41.350809\n",
      "2023-02-14 08:41:41.403064\n",
      "2023-02-14 08:41:41.429042\n",
      "2023-02-14 08:41:41.463080\n",
      "2023-02-14 08:41:41.491995\n",
      "2023-02-14 08:41:41.524624\n",
      "2023-02-14 08:41:41.558312\n",
      "2023-02-14 08:41:41.589216\n",
      "2023-02-14 08:41:41.620919\n",
      "2023-02-14 08:41:41.653238\n",
      "2023-02-14 08:41:41.686201\n",
      "2023-02-14 08:41:41.733188\n",
      "2023-02-14 08:41:41.765796\n",
      "2023-02-14 08:41:41.796600\n",
      "2023-02-14 08:41:41.828123\n",
      "2023-02-14 08:41:41.859374\n",
      "2023-02-14 08:41:41.891998\n",
      "2023-02-14 08:41:41.925932\n",
      "2023-02-14 08:41:41.955280\n",
      "2023-02-14 08:41:41.989454\n",
      "2023-02-14 08:41:42.018837\n",
      "2023-02-14 08:41:42.050995\n",
      "2023-02-14 08:41:42.099151\n",
      "2023-02-14 08:41:42.134245\n",
      "2023-02-14 08:41:42.167171\n",
      "2023-02-14 08:41:42.197492\n",
      "2023-02-14 08:41:42.227153\n",
      "2023-02-14 08:41:42.259766\n",
      "2023-02-14 08:41:42.292840\n",
      "2023-02-14 08:41:42.324549\n",
      "2023-02-14 08:41:42.359172\n",
      "2023-02-14 08:41:42.387088\n",
      "2023-02-14 08:41:42.436961\n",
      "2023-02-14 08:41:42.466953\n",
      "2023-02-14 08:41:42.500910\n",
      "2023-02-14 08:41:42.531161\n",
      "2023-02-14 08:41:42.565997\n",
      "2023-02-14 08:41:42.596807\n",
      "2023-02-14 08:41:42.627788\n",
      "2023-02-14 08:41:42.660224\n",
      "2023-02-14 08:41:42.691910\n",
      "2023-02-14 08:41:42.727324\n",
      "2023-02-14 08:41:42.773328\n",
      "2023-02-14 08:41:42.806835\n",
      "2023-02-14 08:41:42.837546\n",
      "2023-02-14 08:41:42.867087\n",
      "2023-02-14 08:41:42.901462\n",
      "2023-02-14 08:41:42.932469\n",
      "2023-02-14 08:41:42.964916\n",
      "2023-02-14 08:41:42.996676\n",
      "2023-02-14 08:41:43.028299\n",
      "2023-02-14 08:41:43.066771\n",
      "2023-02-14 08:41:43.094865\n",
      "2023-02-14 08:41:43.142855\n",
      "2023-02-14 08:41:43.173413\n",
      "2023-02-14 08:41:43.206226\n",
      "2023-02-14 08:41:43.236339\n",
      "2023-02-14 08:41:43.268338\n",
      "2023-02-14 08:41:43.299897\n",
      "2023-02-14 08:41:43.331842\n",
      "2023-02-14 08:41:43.364673\n",
      "2023-02-14 08:41:43.397437\n",
      "2023-02-14 08:41:43.429343\n",
      "2023-02-14 08:41:43.438127\n",
      "2023-02-14 08:41:43.511114\n",
      "2023-02-14 08:41:43.540754\n",
      "2023-02-14 08:41:43.574060\n",
      "2023-02-14 08:41:43.606917\n",
      "2023-02-14 08:41:43.636554\n",
      "2023-02-14 08:41:43.668924\n",
      "2023-02-14 08:41:43.700148\n",
      "2023-02-14 08:41:43.731614\n",
      "2023-02-14 08:41:43.764566\n",
      "2023-02-14 08:41:43.795934\n",
      "2023-02-14 08:41:43.804963\n",
      "2023-02-14 08:41:43.844326\n",
      "2023-02-14 08:41:43.914804\n",
      "2023-02-14 08:41:43.943300\n",
      "2023-02-14 08:41:43.977990\n",
      "2023-02-14 08:41:44.005917\n",
      "2023-02-14 08:41:44.036166\n",
      "2023-02-14 08:41:44.067659\n",
      "2023-02-14 08:41:44.102417\n",
      "2023-02-14 08:41:44.131285\n",
      "2023-02-14 08:41:44.141289\n",
      "2023-02-14 08:41:44.181360\n",
      "2023-02-14 08:41:44.211182\n",
      "2023-02-14 08:41:44.243105\n",
      "2023-02-14 08:41:44.307736\n",
      "2023-02-14 08:41:44.342074\n",
      "2023-02-14 08:41:44.377243\n",
      "2023-02-14 08:41:44.405994\n",
      "2023-02-14 08:41:44.436014\n",
      "2023-02-14 08:41:44.470180\n",
      "2023-02-14 08:41:44.479182\n",
      "2023-02-14 08:41:44.516886\n",
      "2023-02-14 08:41:44.548354\n",
      "2023-02-14 08:41:44.579730\n",
      "2023-02-14 08:41:44.613341\n",
      "2023-02-14 08:41:44.646498\n",
      "2023-02-14 08:41:44.709557\n",
      "2023-02-14 08:41:44.741921\n",
      "2023-02-14 08:41:44.775374\n",
      "2023-02-14 08:41:44.804531\n",
      "2023-02-14 08:41:44.838806\n",
      "2023-02-14 08:41:44.846799\n",
      "2023-02-14 08:41:44.886215\n",
      "2023-02-14 08:41:44.915208\n",
      "2023-02-14 08:41:44.951823\n",
      "2023-02-14 08:41:44.980632\n",
      "2023-02-14 08:41:45.013034\n",
      "2023-02-14 08:41:45.045391\n",
      "2023-02-14 08:41:45.107092\n",
      "2023-02-14 08:41:45.144195\n",
      "2023-02-14 08:41:45.177853\n",
      "2023-02-14 08:41:45.189787\n",
      "2023-02-14 08:41:45.223875\n",
      "2023-02-14 08:41:45.253729\n",
      "2023-02-14 08:41:45.284251\n",
      "2023-02-14 08:41:45.317362\n",
      "2023-02-14 08:41:45.349336\n",
      "2023-02-14 08:41:45.382352\n",
      "2023-02-14 08:41:45.414241\n",
      "2023-02-14 08:41:45.443056\n",
      "2023-02-14 08:41:45.508892\n",
      "2023-02-14 08:41:45.540908\n",
      "2023-02-14 08:41:45.548912\n",
      "2023-02-14 08:41:45.586760\n",
      "2023-02-14 08:41:45.621611\n",
      "2023-02-14 08:41:45.651639\n",
      "2023-02-14 08:41:45.683733\n",
      "2023-02-14 08:41:45.717641\n",
      "2023-02-14 08:41:45.747239\n",
      "2023-02-14 08:41:45.779155\n",
      "2023-02-14 08:41:45.811664\n",
      "2023-02-14 08:41:45.844728\n",
      "2023-02-14 08:41:45.876708\n",
      "2023-02-14 08:41:45.924120\n",
      "2023-02-14 08:41:45.957679\n",
      "2023-02-14 08:41:45.988363\n",
      "2023-02-14 08:41:46.022005\n",
      "2023-02-14 08:41:46.054253\n",
      "2023-02-14 08:41:46.086092\n",
      "2023-02-14 08:41:46.116544\n",
      "2023-02-14 08:41:46.149384\n",
      "2023-02-14 08:41:46.180968\n",
      "2023-02-14 08:41:46.211553\n",
      "2023-02-14 08:41:46.260755\n",
      "2023-02-14 08:41:46.292602\n",
      "2023-02-14 08:41:46.324942\n",
      "2023-02-14 08:41:46.355965\n",
      "2023-02-14 08:41:46.387154\n",
      "2023-02-14 08:41:46.420418\n",
      "2023-02-14 08:41:46.453735\n",
      "2023-02-14 08:41:46.486915\n",
      "2023-02-14 08:41:46.520045\n",
      "2023-02-14 08:41:46.549284\n",
      "2023-02-14 08:41:46.580313\n",
      "2023-02-14 08:41:46.629967\n",
      "2023-02-14 08:41:46.660440\n",
      "2023-02-14 08:41:46.692338\n",
      "2023-02-14 08:41:46.724530\n",
      "2023-02-14 08:41:46.755258\n",
      "2023-02-14 08:41:46.789056\n",
      "2023-02-14 08:41:46.819366\n",
      "2023-02-14 08:41:46.853078\n",
      "2023-02-14 08:41:46.885370\n",
      "2023-02-14 08:41:46.916151\n",
      "2023-02-14 08:41:46.966019\n",
      "2023-02-14 08:41:46.995500\n",
      "2023-02-14 08:41:47.028579\n",
      "2023-02-14 08:41:47.060598\n",
      "2023-02-14 08:41:47.092816\n",
      "2023-02-14 08:41:47.124555\n",
      "2023-02-14 08:41:47.157493\n",
      "2023-02-14 08:41:47.187427\n",
      "2023-02-14 08:41:47.224999\n",
      "2023-02-14 08:41:47.253000\n",
      "2023-02-14 08:41:47.283421\n",
      "2023-02-14 08:41:47.334627\n",
      "2023-02-14 08:41:47.364647\n",
      "2023-02-14 08:41:47.398174\n",
      "2023-02-14 08:41:47.428881\n",
      "2023-02-14 08:41:47.461880\n",
      "2023-02-14 08:41:47.491446\n",
      "2023-02-14 08:41:47.524946\n",
      "2023-02-14 08:41:47.556946\n",
      "2023-02-14 08:41:47.589306\n",
      "2023-02-14 08:41:47.621887\n",
      "2023-02-14 08:41:47.669826\n",
      "2023-02-14 08:41:47.700902\n",
      "2023-02-14 08:41:47.733714\n",
      "2023-02-14 08:41:47.766521\n",
      "2023-02-14 08:41:47.797034\n",
      "2023-02-14 08:41:47.830244\n",
      "2023-02-14 08:41:47.860429\n",
      "2023-02-14 08:41:47.891306\n",
      "2023-02-14 08:41:47.922952\n",
      "2023-02-14 08:41:47.955144\n",
      "2023-02-14 08:41:48.004672\n",
      "2023-02-14 08:41:48.037672\n",
      "2023-02-14 08:41:48.070673\n",
      "2023-02-14 08:41:48.106215\n",
      "2023-02-14 08:41:48.133167\n",
      "2023-02-14 08:41:48.166425\n",
      "2023-02-14 08:41:48.197224\n",
      "2023-02-14 08:41:48.228846\n",
      "2023-02-14 08:41:48.260179\n",
      "2023-02-14 08:41:48.291174\n",
      "2023-02-14 08:41:48.325753\n",
      "2023-02-14 08:41:48.372609\n",
      "2023-02-14 08:41:48.403344\n",
      "2023-02-14 08:41:48.436344\n",
      "2023-02-14 08:41:48.467352\n",
      "2023-02-14 08:41:48.502634\n",
      "2023-02-14 08:41:48.534634\n",
      "2023-02-14 08:41:48.563867\n",
      "2023-02-14 08:41:48.594988\n",
      "2023-02-14 08:41:48.629524\n",
      "2023-02-14 08:41:48.660654\n",
      "2023-02-14 08:41:48.708223\n",
      "2023-02-14 08:41:48.738768\n",
      "2023-02-14 08:41:48.772758\n",
      "2023-02-14 08:41:48.804612\n",
      "2023-02-14 08:41:48.834957\n",
      "2023-02-14 08:41:48.867235\n",
      "2023-02-14 08:41:48.900792\n",
      "2023-02-14 08:41:48.933020\n",
      "2023-02-14 08:41:48.964945\n",
      "2023-02-14 08:41:48.997049\n",
      "2023-02-14 08:41:49.029174\n",
      "2023-02-14 08:41:49.037174\n",
      "2023-02-14 08:41:49.108814\n",
      "2023-02-14 08:41:49.140634\n",
      "2023-02-14 08:41:49.172597\n",
      "2023-02-14 08:41:49.205226\n",
      "2023-02-14 08:41:49.237813\n",
      "2023-02-14 08:41:49.268588\n",
      "2023-02-14 08:41:49.299666\n",
      "2023-02-14 08:41:49.331251\n",
      "2023-02-14 08:41:49.365182\n",
      "2023-02-14 08:41:49.373181\n",
      "2023-02-14 08:41:49.412631\n",
      "2023-02-14 08:41:49.448733\n",
      "2023-02-14 08:41:49.510151\n",
      "2023-02-14 08:41:49.540866\n",
      "2023-02-14 08:41:49.571381\n",
      "2023-02-14 08:41:49.605805\n",
      "2023-02-14 08:41:49.637803\n",
      "2023-02-14 08:41:49.667974\n",
      "2023-02-14 08:41:49.701874\n",
      "2023-02-14 08:41:49.711880\n",
      "2023-02-14 08:41:49.747591\n",
      "2023-02-14 08:41:49.780587\n",
      "2023-02-14 08:41:49.811006\n",
      "2023-02-14 08:41:49.843284\n",
      "2023-02-14 08:41:49.910125\n",
      "2023-02-14 08:41:49.941682\n",
      "2023-02-14 08:41:49.974331\n",
      "2023-02-14 08:41:50.005843\n",
      "2023-02-14 08:41:50.035839\n",
      "2023-02-14 08:41:50.068872\n",
      "2023-02-14 08:41:50.075874\n",
      "2023-02-14 08:41:50.116586\n",
      "2023-02-14 08:41:50.147177\n",
      "2023-02-14 08:41:50.179240\n",
      "2023-02-14 08:41:50.211490\n",
      "2023-02-14 08:41:50.245455\n",
      "2023-02-14 08:41:50.308718\n",
      "2023-02-14 08:41:50.340832\n",
      "2023-02-14 08:41:50.371830\n",
      "2023-02-14 08:41:50.404638\n",
      "2023-02-14 08:41:50.412636\n",
      "2023-02-14 08:41:50.452701\n",
      "2023-02-14 08:41:50.484515\n",
      "2023-02-14 08:41:50.517519\n",
      "2023-02-14 08:41:50.546976\n",
      "2023-02-14 08:41:50.580910\n",
      "2023-02-14 08:41:50.612442\n",
      "2023-02-14 08:41:50.645174\n",
      "2023-02-14 08:41:50.709063\n",
      "2023-02-14 08:41:50.741289\n",
      "2023-02-14 08:41:50.748289\n",
      "2023-02-14 08:41:50.773287\n",
      "2023-02-14 08:41:50.821885\n",
      "2023-02-14 08:41:50.853884\n",
      "2023-02-14 08:41:50.884425\n",
      "2023-02-14 08:41:50.915955\n",
      "2023-02-14 08:41:50.948834\n",
      "2023-02-14 08:41:50.979223\n",
      "2023-02-14 08:41:51.012405\n",
      "2023-02-14 08:41:51.043409\n",
      "2023-02-14 08:41:51.109958\n",
      "2023-02-14 08:41:51.119953\n",
      "2023-02-14 08:41:51.161184\n",
      "2023-02-14 08:41:51.192327\n",
      "2023-02-14 08:41:51.221372\n",
      "2023-02-14 08:41:51.252909\n",
      "2023-02-14 08:41:51.285924\n",
      "2023-02-14 08:41:51.314904\n",
      "2023-02-14 08:41:51.349892\n",
      "2023-02-14 08:41:51.380992\n",
      "2023-02-14 08:41:51.416532\n",
      "2023-02-14 08:41:51.444616\n",
      "2023-02-14 08:41:51.493415\n",
      "2023-02-14 08:41:51.525018\n",
      "2023-02-14 08:41:51.557661\n",
      "2023-02-14 08:41:51.590517\n",
      "2023-02-14 08:41:51.629539\n",
      "2023-02-14 08:41:51.652337\n",
      "2023-02-14 08:41:51.683348\n",
      "2023-02-14 08:41:51.714948\n",
      "2023-02-14 08:41:51.746974\n",
      "2023-02-14 08:41:51.779314\n",
      "2023-02-14 08:41:51.810870\n",
      "2023-02-14 08:41:51.860618\n",
      "2023-02-14 08:41:51.891141\n",
      "2023-02-14 08:41:51.923102\n",
      "2023-02-14 08:41:51.956435\n",
      "2023-02-14 08:41:51.993492\n",
      "2023-02-14 08:41:52.022020\n",
      "Quit\n"
     ]
    }
   ],
   "source": [
    "#!/usr/bin/python\n",
    "\n",
    "import cv2\n",
    "import datetime\n",
    "import time\n",
    "#import sys\n",
    "\n",
    "\n",
    "if __name__ == \"__main__\":\n",
    "\n",
    "    try:\n",
    "    \n",
    "        fps = 20\n",
    "        frameWidth  = 1280\n",
    "        frameHeight = 720\n",
    "        \n",
    "        cap = cv2.VideoCapture(0)\n",
    "        cap.set(cv2.CAP_PROP_FRAME_WIDTH,  frameWidth)\n",
    "        cap.set(cv2.CAP_PROP_FRAME_HEIGHT, frameHeight)\n",
    "#\ttime.sleep()\n",
    "        cap.set(cv2.CAP_PROP_FPS, fps)\n",
    "\n",
    "        cameraFPS = cap.get(cv2.CAP_PROP_FPS)\n",
    "\n",
    "        print(\"FPS:\", cameraFPS)\n",
    "        print(\"Frame size:\", cap.get(cv2.CAP_PROP_FRAME_WIDTH), cap.get(cv2.CAP_PROP_FRAME_HEIGHT))\n",
    "            \n",
    "        #fourcc = cv2.VideoWriter_fourcc(*'MJPG') # + .avi works, .mp4 not works\n",
    "        #fourcc = cv2.cv.CV_FOURCC(*'XVID')MP4V\n",
    "        \n",
    "        fourcc = cv2.VideoWriter_fourcc(*'XVID')\n",
    "        #fourcc = cv2.VideoWriter_fourcc(*'MP4V')\n",
    "        videofile = cv2.VideoWriter('video.avi',\n",
    "                                    fourcc,\n",
    "                                    int(cameraFPS),\n",
    "                                    (frameWidth, frameHeight))\n",
    "        \n",
    "        \n",
    "        \n",
    "        #file = open('/media/csipose1/XPG SD700X/time', 'w+')\n",
    "\n",
    "        i=int(time.time())+20\n",
    "        \n",
    "        \n",
    "        with open('VideoTimestamp.txt', 'w+') as file:\n",
    "            while(cap.isOpened() and int(time.time())<=i):\n",
    "                ret, frame = cap.read()\n",
    "                #time.sleep(delay)\n",
    "                t = datetime.datetime.now()\n",
    "                #t = time.clock()\n",
    "                #print(ret)\n",
    "                if ret:\n",
    "                   file.write(str(t)+'\\n')\n",
    "                   print(str(t))\n",
    "                   videofile.write(frame)\n",
    "                   # cv2.imshow('Camera', frame)\n",
    "                    \n",
    "                   #if cv2.waitKey(1) & 0xFF == ord('q'):\n",
    "                   #    break\n",
    "                else:\n",
    "                    break\n",
    "            print(\"Quit\")\n",
    "            cap.release()\n",
    "            videofile.release()\n",
    "            #cv2.destroyAllWindows()\n",
    "            file.close()\n",
    "    \n",
    "        \n",
    "    except KeyboardInterrupt:\n",
    "        print(\"Quit\")\n",
    "        cap.release()\n",
    "        videofile.release()\n",
    "        #cv2.destroyAllWindows()\n",
    "        file.close()"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "wisppn",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.16"
  },
  "orig_nbformat": 4,
  "vscode": {
   "interpreter": {
    "hash": "1207b9c682ca481cac1421c216801cf5c5240526cf47493856d7fec94a259d52"
   }
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
